<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Mindful Task App</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app-container">
    <!-- TODAY VIEW -->
    <div id="today-view" class="view">
      <header class="app-header">
        <button id="menu-btn" class="icon-button" aria-label="menu">&#9776;</button>
        <h2>Today</h2>
        <div class="mindful-break-chip">
          <span class="leaf-icon-chip">&#127810;</span> Mindful Break
        </div>
      </header>
      <main id="task-list" class="task-list-container"></main>
      <button id="add-task-btn" class="fab" aria-label="add task">+</button>
    </div>

    <!-- TASK VIEW -->
    <div id="task-view" class="view hidden">
      <header class="app-header">
        <button id="back-to-today-btn" class="icon-button" aria-label="back">&#8592;</button>
        <div class="mindful-break-chip">
          <span class="leaf-icon-chip">&#127810;</span> Mindful Break
        </div>
      </header>

      <main class="tree-container-wrapper">
        <div id="task-animation-bg"></div>
        <div id="leaf-fall-container"></div>

        <!-- Projection message -->
        <div id="projection-msg" class="projection-msg">Projection mirror in app coming soon...</div>

        <!-- Reminder toast -->
        <div id="reminder-toast" class="reminder-toast hidden">
          <div class="toast-content">
            <span class="toast-bell">ğŸ””</span>
            <span id="toast-text">This is your 5 minutes reminder</span>
          </div>
        </div>
      </main>

      <footer class="task-footer">
        <div id="time-display" class="time-remaining">~ 10 m 00 s Remaining</div>

        <div id="overdue-badge" class="overdue-badge hidden">
          <span class="exclam">!</span>
          <span id="overdue-text">2 m Overdue</span>
        </div>

        <div class="labels-row">
          <div class="label-left">Time Tracking</div>
          <div class="label-right">
            <span class="bell">ğŸ””</span> Reminders:
            <span id="active-reminder-count">0</span>
          </div>
        </div>

        <div class="progress-bar-container" id="progress-container">
          <div class="progress-track"></div>
          <div id="reminder-dots" class="reminder-dots"></div>
          <div id="progress-bar" class="progress-fill"></div>
        </div>

        <div class="underbar-row">
          <button id="active-checkbox" class="checkbox-lg" aria-label="mark done"></button>
          <div class="underbar-info">
            <h3 id="active-task-name">Task name</h3>
            <p class="under-duration">
              <span class="clock-icn">ğŸ•’</span>
              Duration: <span id="active-duration">--</span>
            </p>
          </div>
          <button id="in-task-edit-btn" class="edit-inline" aria-label="edit">&#9998;</button>
        </div>

        <div class="task-controls">
          <button id="pause-btn" class="secondary-button">Pause</button>
          <button id="done-btn" class="primary-button">Done</button>
        </div>
      </footer>
    </div>

    <!-- EDIT / NEW TASK VIEW -->
    <div id="edit-task-view" class="view hidden">
      <header class="app-header">
        <h2 id="edit-view-title">New Task</h2>
        <button id="close-edit-view-btn" class="icon-button" aria-label="close">&#10005;</button>
      </header>
      <main class="form-container">
        <label class="field-label">Name</label>
        <input type="text" id="task-name-input" placeholder="Enter a task name..." />

        <label class="field-label">Duration:</label>
        <div class="duration-input">
          <input type="number" id="task-duration-hr" value="1" min="0" />
          <span>Hour</span>
          <input type="number" id="task-duration-min" value="0" min="0" max="59" />
          <span>Minute</span>
        </div>

        <!-- Reminders (with 2 m option) -->
        <div class="reminder-section">
          <div class="reminder-title">
            <span class="bell">ğŸ””</span>
            Reminders (automatically at end)
          </div>

          <div id="reminder-options" class="reminder-list">
            <label class="rem-row">
              <input type="checkbox" class="rem-choice" value="5400" />
              <span>1 h 30 m before end</span>
            </label>
            <label class="rem-row">
              <input type="checkbox" class="rem-choice" value="3600" />
              <span>1 h before end</span>
            </label>
            <label class="rem-row">
              <input type="checkbox" class="rem-choice" value="2700" />
              <span>45 m before end</span>
            </label>
            <label class="rem-row">
              <input type="checkbox" class="rem-choice" value="1800" />
              <span>30 m before end</span>
            </label>
            <label class="rem-row">
              <input type="checkbox" class="rem-choice" value="900" />
              <span>15 m before end</span>
            </label>
            <label class="rem-row">
              <input type="checkbox" class="rem-choice" value="300" />
              <span>5 m before end</span>
            </label>
            <label class="rem-row">
              <input type="checkbox" class="rem-choice" value="120" />
              <span>2 m before end</span>
            </label>
          </div>

          <button id="add-custom-reminder" type="button" class="link-button">+ Custom reminder</button>
        </div>

        <!-- Restart only (Delete removed) -->
        <button id="restart-task-btn" class="secondary-button restart-btn hidden">Restart Task</button>
      </main>

      <footer class="edit-footer">
        <div class="edit-actions">
          <button id="cancel-task-btn" class="secondary-button">Cancel</button>
          <button id="save-task-btn" class="primary-button" disabled>Save Task</button>
        </div>
      </footer>
    </div>

    <!-- OVERLAYS -->
    <div id="pause-overlay" class="overlay hidden">
      <div class="overlay-card">
        <p class="overlay-title">Paused countdown</p>
        <button id="resume-btn" class="primary-button">Resume</button>
      </div>
    </div>

    <div id="mindful-break-overlay" class="overlay hidden">
      <div id="mindful-leaf-container"></div>
      <div class="overlay-card">
        <p class="overlay-title" style="color:#5a36ff;font-weight:800">Look up and follow the yellow leaf</p>
        <div style="font-size:28px;margin:6px 0">ğŸƒ <span style="color:#FFC107">ğŸ‚</span> ğŸƒ</div>
        <div class="subtle">Take a mindful break â€” Paused countdown</div>
        <button id="end-mindful-break-btn" class="primary-button">Resume</button>
      </div>
    </div>

    <div id="overdue-overlay" class="overlay clear hidden">
      <div class="overlay-card overdue-card">
        <p class="overlay-title">Time is overdue. Do you want to extend the task?</p>
        <button id="overdue-add-15" class="primary-button">Add 15 mins</button>
      </div>
    </div>

    <div id="deleted-overlay" class="overlay hidden">
      <div class="overlay-card">
        <p class="overlay-title">Deleted tasks</p>
        <div id="deleted-list" class="overlay-list"></div>
        <button id="close-deleted" class="primary-button">Close</button>
      </div>
    </div>

    <!-- Inâ€‘app custom reminder modal -->
    <div id="custom-reminder-modal" class="overlay hidden">
      <div class="overlay-card">
        <p class="overlay-title">Add custom reminder</p>
        <div style="display:flex;gap:10px;justify-content:center;align-items:center">
          <input type="number" id="custom-rem-min" min="1" value="2" style="width:80px;padding:8px;border:1px solid #ddd;border-radius:8px" />
          <span>minutes before end</span>
        </div>
        <div style="display:flex;gap:10px;margin-top:12px">
          <button id="custom-rem-cancel" class="secondary-button">Cancel</button>
          <button id="custom-rem-add" class="primary-button">Add</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Leaf shape -->
  <svg width="0" height="0" style="position:absolute;z-index:-1;">
    <defs>
      <g id="leaf-shape" transform="rotate(45 15 15)">
        <path d="M15.4,29.3C12.3,29.7,9,28.6,6.4,26.4c-4.2-3.6-6-9-5.4-14.2c0.2-1.8,0.9-3.6,2-5.1C4.4,5,6.2,3.3,8.3,2.2
          c4.1-2.2,9-2.2,13.1,0c4.9,2.6,8,7.6,8.6,12.9c0.1,1.1,0,2.2-0.2,3.3C29,20.2,28.2,21.8,27,23.2c-2.4,2.9-5.8,4.9-9.5,5.7
          C16.8,29,16.1,29.1,15.4,29.3z"/>
      </g>
    </defs>
  </svg>

  <script src="script.js"></script>
</body>
</html>